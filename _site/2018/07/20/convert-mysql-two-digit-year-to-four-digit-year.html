<!DOCTYPE html><html lang="en" ><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="/assets/css/syntax.css" rel="stylesheet"><title>How To Convert MySQL Two Digit Year To Four Digit Year | The Data Guy</title><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="How To Convert MySQL Two Digit Year To Four Digit Year" /><meta name="author" content="Bhuvanesh" /><meta property="og:locale" content="en_US" /><meta name="description" content="While working with MySQL datetime sometime it’ll messup. Here I have worked datetime column to convert two digit year to four digit year." /><meta property="og:description" content="While working with MySQL datetime sometime it’ll messup. Here I have worked datetime column to convert two digit year to four digit year." /><meta property="og:site_name" content="The Data Guy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-07-20T15:27:29+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="How To Convert MySQL Two Digit Year To Four Digit Year" /><meta name="twitter:site" content="@bhuvithedataguy" /><meta name="twitter:creator" content="@https://twitter.com/BhuviTheDataGuy" /> <script type="application/ld+json"> {"dateModified":"2018-07-20T15:27:29+00:00","datePublished":"2018-07-20T15:27:29+00:00","url":"/2018/07/20/convert-mysql-two-digit-year-to-four-digit-year","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/07/20/convert-mysql-two-digit-year-to-four-digit-year"},"@type":"BlogPosting","author":{"@type":"Person","name":"Bhuvanesh"},"description":"While working with MySQL datetime sometime it’ll messup. Here I have worked datetime column to convert two digit year to four digit year.","headline":"How To Convert MySQL Two Digit Year To Four Digit Year","@context":"https://schema.org"}</script><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui, sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.7;font-size:1rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:.5rem 0;padding:.5rem}.post p{margin:.5rem 0}.post h1,.post h2,.post h3,.post h4{margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.meta{margin:2rem 0}code,pre{background:#ecedee}code{padding:.1rem}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:5px solid #ececec;padding-left:1rem}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}#share-bar{font-size:20px}#share-bar h4{margin-bottom:10px;font-weight:500}.share-button{margin:0px;margin-bottom:10px;margin-right:3px;border:1px solid #D3D6D2;padding:5px 10px 5px 10px}.share-button:hover{opacity:1;color:#ffffff}.fa-facebook-official{color:#3b5998}.fa-facebook-official:hover{background-color:#3b5998}.fa-twitter{color:#55acee}.fa-twitter:hover{background-color:#55acee}.fa-google-plus{color:#dd4b39}.fa-google-plus:hover{background-color:#dd4b39}.fa-pinterest-p{color:#cb2027}.fa-pinterest-p:hover{background-color:#cb2027}.fa-tumblr{color:#32506d}.fa-tumblr:hover{background-color:#32506d}.fa-reddit-alien{color:#ff4500}.fa-reddit-alien:hover{background-color:#ff4500}.fa-linkedin{color:#007bb5}.fa-linkedin:hover{background-color:#007bb5}.fa-envelope{color:#444444}.fa-envelope:hover{background-color:#444444}</style></head><body><main role="main"><header role="banner"><h1 class="logo">The Data Guy</h1><div class="page-author h-card p-author"><img src="/assets/circle-cropped.png" class="author-avatar u-photo" alt="Bhuvanesh"></div><nav role="navigation"><ul><li><a href="/" >Home</a></li><li><a href="/posts/" >Posts</a></li><li><a href="/categories/" >Categories</a></li><li><a href="/tags/" >Tags</a></li><li><a href="https://medium.com/@bhuvithedataguy" >Medium Blog</a></li><li><a href="/search" >Search Here</a></li></ul></nav></header><section class="post"><h2>How To Convert MySQL Two Digit Year To Four Digit Year</h2><p><img src="/assets/How-To-Convert-MySQL-Two-Digit-Year-To-Four-Digit-Year.png" alt="How To Convert MySQL Two Digit Year To Four Digit Year" /></p><p>Today I was working with a small MySQL data set. The data provided by a CSV file and needed to load it into AWS RDS MySQL. Since the RDS does not support the Load data inline. So I have manually convert the CSV file to .sql file. But the problem statement is, in CSV the date time column had two digit year format and while converting into sql it considered the day part as year and automatically added 20  in the beginning. MySQL has makedate function , but it didn’t work for me. My entire data for the year 2018.</p><h2 id="the-two-digit-format-in-csv">The two digit format in CSV</h2><figure class="highlight"><pre><code class="language-shell" data-lang="shell">1.  <span class="nb">dd</span>/mm/yy hh:mm:ss
2.  30-05-18  14:57:19
3.  30-05-18  14:55:15
4.  19-05-18  04:15:15
5.  18-05-18  02:11:53
6.  17-05-18  22:14:24</code></pre></figure><h2 id="converted-sql-file">Converted sql file</h2><figure class="highlight"><pre><code class="language-shell" data-lang="shell">1.  yyyy/mm/dd hh:mm:ss
2.  2030-05-18  14:57:19
3.  2030-05-18  14:55:15
4.  2019-05-18  04:15:15
5.  2018-05-18  02:11:53
6.  2017-05-18  22:14:24</code></pre></figure><h2 id="create-the-table-and-load-the-test-data">Create the table and load the test data</h2><figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">create</span> <span class="k">table</span> <span class="n">csv_date</span>  <span class="p">(</span><span class="nb">date</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2030-05-18 14:57:19'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2030-05-18 14:55:15'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2019-05-18 04:15:15'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2018-05-18 02:11:53'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">csv_date</span> <span class="k">values</span>  <span class="p">(</span><span class="s1">'2017-05-18 22:14:24'</span><span class="p">);</span></code></pre></figure><h2 id="convert-two-digit-to-four-digit-in-mysql">Convert two digit to four digit in MySQL:</h2><ul><li>Create a temporary table same as the original table but make the column datatype as datetime data type. </li><li>Select the original table and trim the first two characters from the yyyy.</li><li>Add 20 in the year (dd-mm-[20] yy).</li><li>Do str_to_date to mention this as a datetime column.</li><li>Drop the old table and rename the temporary table.</li></ul><figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="c1">-- Create the temp table</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">fix_date</span> <span class="p">(</span><span class="nb">date</span> <span class="nb">datetime</span><span class="p">);</span>

<span class="c1">-- insert the value (trim the 20)</span>
<span class="k">insert</span> <span class="k">into</span> <span class="k">new</span> <span class="k">select</span> <span class="n">str_to_date</span><span class="p">(</span><span class="n">concat</span><span class="p">((</span><span class="n">substr</span><span class="p">(</span><span class="n">substr</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">length</span><span class="p">(</span><span class="nb">date</span><span class="p">)),</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)),</span><span class="s1">'20'</span><span class="p">,</span><span class="n">substr</span><span class="p">(</span><span class="n">substr</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">length</span><span class="p">(</span><span class="nb">date</span><span class="p">)),</span><span class="mi">7</span><span class="p">)),</span> <span class="nv">"%d-%m-%Y %H:%i:%s"</span><span class="p">)</span> <span class="k">from</span> <span class="n">csv_date</span><span class="p">;</span>

<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">fix_date</span><span class="p">;</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">19</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">19</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">18</span> <span class="mi">02</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">53</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">17</span> <span class="mi">22</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">24</span>

<span class="c1">-- Replace the table</span>
<span class="k">drop</span> <span class="k">table</span> <span class="n">csv_date</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">fix_date</span> <span class="k">rename</span> <span class="k">to</span> <span class="n">csv_date</span><span class="p">;</span></code></pre></figure><span class="meta"><time datetime="2018-07-20T15:27:29+00:00">July 20, 2018</time> &middot; <a href="/tags/#csv">csv</a>, <a href="/tags/#datatype">datatype</a>, <a href="/tags/#mysql">mysql</a></span><hr> <!--<span class="meta"><time datetime="2018-07-20T15:27:29+00:00">July 20, 2018</time> &middot; <a class="post" href="/tag/csv">csv</a>, <a class="post" href="/tag/datatype">datatype</a>, <a class="post" href="/tag/mysql">mysql</a></span> --></section></main></body></html>
